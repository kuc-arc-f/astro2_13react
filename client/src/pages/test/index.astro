---
import Layout from '../../layouts/Layout.astro';

const PUBLIC_ANYBODY = import.meta.env.PUBLIC_ANYBODY;
const url = import.meta.env.PUBLIC_API_URL;
console.log("url=", url);

---
<!-- MarkUp -->
<Layout title="Welcome to Astro.">
	<div id="root" class="container">
    </div>
</Layout>
<!-- -->
<style>
</style>
<!-- -->
<script is:inline src="/js/Test.js"></script>
<script is:inline type="text/babel" src="/js/components/Child.js"></script>
<script type="text/babel">
const useState = React.useState;
const useEffect = React.useEffect;
//
const App = () => {
    const [state, setState] = useState(0)
    const [count, setCount] = useState(0);
    const [items, setItems] = useState([])
    const handleClick = () => setState(state + 1);
    const greeting = 'Welcome , React !!!';
    //
    useEffect(() => {
        const testItems =Test.getList();
        setItems(testItems);
        console.log(testItems);
    }, []);  
    //
    return (
        <div>
            <h1>My React Title</h1>
            <hr />
            カウント: {state}
            <hr />
            <button onClick={handleClick}>TestCount</button>
            <hr />
            <Child text={greeting} />
            <hr />
            <button onClick={() => setCount(count + 1)}>
                Click me
            </button>
            <hr />
            {items.map((item, index) => {
                return (
                <div key={item.id}>ID: {item.id}, Name: {item.name}
                </div>
                )
            })}             
        </div>
    )
}
const container = document.getElementById("root");
const root = ReactDOM.createRoot(container);
root.render(<App />);
</script>
